import{j as b}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./iframe-xSyj_TgM.js";import{j as p}from"./format-FJJUaZs2.js";const v={list:p("max-h-75 w-full overflow-y-auto overflow-x-hidden rounded border border-gray-100 bg-white py-1"),listItem:p("block h-10 w-full min-w-30 cursor-pointer truncate px-3 py-2 text-left text-14 font-normal leading-normal shadow-inset01 hover:bg-gray-100 active:bg-gray-200"),selected:p("bg-black font-medium text-white hover:bg-black hover:opacity-80 active:bg-black active:opacity-70")};function w({className:r,isSelected:o,label:d,onClick:n,onHover:c,value:a,...m}){const l=s.useCallback(()=>{n&&n(a)},[n,a]);return b.jsx("div",{...m,"aria-selected":o,className:p(v.listItem,o&&v.selected,r&&r),onClick:l,onFocus:c,onMouseEnter:c,role:"option",children:d})}w.__docgenInfo={description:"",methods:[],displayName:"ListboxItem",props:{label:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"string"},description:""},isSelected:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(selected: string) => void",signature:{arguments:[{type:{name:"string"},name:"selected"}],return:{name:"void"}}},description:""},onHover:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit"]};const h=s.forwardRef(function(o,d){const{className:n,id:c,labelId:a,onClick:m,onHover:l,options:g,renderItem:u,value:f,...y}=o;return b.jsx("div",{...y,ref:d,"aria-labelledby":a,className:p(v.list,n&&n),id:c,tabIndex:-1,role:"listbox",children:g.map((e,t)=>(u==null?void 0:u(e,t))||b.jsx(w,{isSelected:f===e.value,label:e.label,value:e.value,onClick:m,onHover:()=>l==null?void 0:l(String(t))},`${e.label}-${e.value}`))})});h.__docgenInfo={description:"",methods:[],displayName:"Listbox",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"ListboxOptionType"}],raw:"ListboxOptionType[]"},description:""},id:{required:!1,tsType:{name:"string"},description:""},labelId:{required:!1,tsType:{name:"string"},description:""},renderItem:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: ListboxOptionType, index: number) => ReactNode",signature:{arguments:[{type:{name:"ListboxOptionType"},name:"option"},{type:{name:"number"},name:"index"}],return:{name:"ReactNode"}}},description:""},value:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(selected: string) => void",signature:{arguments:[{type:{name:"string"},name:"selected"}],return:{name:"void"}}},description:""},onHover:{required:!1,tsType:{name:"signature",type:"function",raw:"(index: string) => void",signature:{arguments:[{type:{name:"string"},name:"index"}],return:{name:"void"}}},description:""}},composes:["Omit"]};const E=300,L=24,C=20,R=({inputId:r,isVisible:o,listBoxId:d,totalLength:n})=>{const[c,a]=s.useState(0),[m,l]=s.useState(0),[g,u]=s.useState(1),[f,y]=s.useState(300),e=s.useCallback(()=>{const i=document.getElementById(r);return i?i.getBoundingClientRect().bottom+Math.min(E,n*L)+C>=window.innerHeight:!1},[r,n]),t=s.useCallback(()=>{const i=document.getElementById(r),x=document.getElementById(d);if(o&&i&&x){const T=i.getBoundingClientRect().top;e()?(a(T-x.offsetHeight),u(0)):(a(1),u(i.getBoundingClientRect().top+i.getBoundingClientRect().height-1)),l(i.getBoundingClientRect().x),y(i.getBoundingClientRect().width)}},[r,d,o,e]);return s.useEffect(()=>(t(),window.addEventListener("resize",t),window.addEventListener("scroll",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",t)}),[t]),{handlePosition:t,isTop:e,left:m,marginTop:g,maxWidth:f,top:c}};export{h as L,w as a,R as u};
